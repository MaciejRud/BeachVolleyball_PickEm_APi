{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/auth/jwt/login":{"post":{"tags":["auth"],"summary":"Auth:Jwt.Login","operationId":"auth_jwt_login_auth_jwt_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_auth_jwt_login_auth_jwt_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BearerResponse"},"example":{"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiOTIyMWZmYzktNjQwZi00MzcyLTg2ZDMtY2U2NDJjYmE1NjAzIiwiYXVkIjoiZmFzdGFwaS11c2VyczphdXRoIiwiZXhwIjoxNTcxNTA0MTkzfQ.M10bjOe45I5Ncu_uXvOmVV8QxnL-nZfcH96U90JaocI","token_type":"bearer"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"LOGIN_BAD_CREDENTIALS":{"summary":"Bad credentials or the user is inactive.","value":{"detail":"LOGIN_BAD_CREDENTIALS"}},"LOGIN_USER_NOT_VERIFIED":{"summary":"The user is not verified.","value":{"detail":"LOGIN_USER_NOT_VERIFIED"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/jwt/logout":{"post":{"tags":["auth"],"summary":"Auth:Jwt.Logout","operationId":"auth_jwt_logout_auth_jwt_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Missing token or inactive user."}},"security":[{"OAuth2PasswordBearer":[]}]}},"/auth/register":{"post":{"tags":["auth"],"summary":"Register:Register","operationId":"register_register_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIn"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"REGISTER_USER_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"REGISTER_USER_ALREADY_EXISTS"}},"REGISTER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"REGISTER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/forgot-password":{"post":{"tags":["auth"],"summary":"Reset:Forgot Password","operationId":"reset_forgot_password_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_reset_forgot_password_auth_forgot_password_post"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/reset-password":{"post":{"tags":["auth"],"summary":"Reset:Reset Password","operationId":"reset_reset_password_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_reset_reset_password_auth_reset_password_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"RESET_PASSWORD_BAD_TOKEN":{"summary":"Bad or expired token.","value":{"detail":"RESET_PASSWORD_BAD_TOKEN"}},"RESET_PASSWORD_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"RESET_PASSWORD_INVALID_PASSWORD","reason":"Password should be at least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/request-verify-token":{"post":{"tags":["auth"],"summary":"Verify:Request-Token","operationId":"verify_request_token_auth_request_verify_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_verify_request_token_auth_request_verify_token_post"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/verify":{"post":{"tags":["auth"],"summary":"Verify:Verify","operationId":"verify_verify_auth_verify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_verify_verify_auth_verify_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"VERIFY_USER_BAD_TOKEN":{"summary":"Bad token, not existing user ornot the e-mail currently set for the user.","value":{"detail":"VERIFY_USER_BAD_TOKEN"}},"VERIFY_USER_ALREADY_VERIFIED":{"summary":"The user is already verified.","value":{"detail":"VERIFY_USER_ALREADY_VERIFIED"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/authenticated-route":{"get":{"summary":"Authenticated Route","operationId":"authenticated_route_authenticated_route_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/tournaments/":{"post":{"tags":["tournament"],"summary":"Create Tournament","description":"Creating new tournament by admin.","operationId":"create_tournament_tournaments__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/tournaments/{tournament_id}/teams/add_last":{"post":{"tags":["tournament"],"summary":"Add Last Teams To Tournament","operationId":"add_last_teams_to_tournament_tournaments__tournament_id__teams_add_last_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tournament_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tournament Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tournaments/{tournament_id}/teams":{"get":{"tags":["tournament"],"summary":"Get Teams","description":"Response all teams of tournament.","operationId":"get_teams_tournaments__tournament_id__teams_get","parameters":[{"name":"tournament_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tournament Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TeamResponse"},"title":"Response Get Teams Tournaments  Tournament Id  Teams Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tournaments/{tournament_id}/events":{"post":{"tags":["tournament"],"summary":"Create Event","description":"Creating a new event by admin.","operationId":"create_event_tournaments__tournament_id__events_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tournament_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tournament Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["tournament"],"summary":"Get Teams","description":"Response all events of tournament.","operationId":"get_teams_tournaments__tournament_id__events_get","parameters":[{"name":"tournament_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tournament Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventResponse"},"title":"Response Get Teams Tournaments  Tournament Id  Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tournaments/{tournament_id}/finalize":{"post":{"tags":["tournament"],"summary":"Finalize Tournament Endpoint","description":"Finalize the tournament by checking all event answers and awarding points.","operationId":"finalize_tournament_endpoint_tournaments__tournament_id__finalize_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tournament_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tournament Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/teams/sample":{"post":{"tags":["teams"],"summary":"Create Sample Teams","operationId":"create_sample_teams_teams_sample_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/events/{event_id}/solution":{"post":{"tags":["events"],"summary":"Set Solution","description":"Sets the correct solution for a specific event by an admin.","operationId":"set_solution_events__event_id__solution_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Event Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventSolutionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/answers/":{"post":{"tags":["user_answers"],"summary":"Submit Answer","description":"Submit user's answer to database.","operationId":"submit_answer_answers__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAnswerCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAnswerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"BearerResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"BearerResponse"},"Body_auth_jwt_login_auth_jwt_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_auth_jwt_login_auth_jwt_login_post"},"Body_reset_forgot_password_auth_forgot_password_post":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"Body_reset_forgot_password_auth_forgot_password_post"},"Body_reset_reset_password_auth_reset_password_post":{"properties":{"token":{"type":"string","title":"Token"},"password":{"type":"string","title":"Password"}},"type":"object","required":["token","password"],"title":"Body_reset_reset_password_auth_reset_password_post"},"Body_verify_request_token_auth_request_verify_token_post":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"Body_verify_request_token_auth_request_verify_token_post"},"Body_verify_verify_auth_verify_post":{"properties":{"token":{"type":"string","title":"Token"}},"type":"object","required":["token"],"title":"Body_verify_verify_auth_verify_post"},"ErrorModel":{"properties":{"detail":{"anyOf":[{"type":"string"},{"additionalProperties":{"type":"string"},"type":"object"}],"title":"Detail"}},"type":"object","required":["detail"],"title":"ErrorModel"},"EventCreate":{"properties":{"tournament_id":{"type":"string","format":"uuid","title":"Tournament Id"},"question_type":{"$ref":"#/components/schemas/QuestionType"},"question_text":{"type":"string","title":"Question Text"},"points_value":{"type":"integer","title":"Points Value"}},"type":"object","required":["tournament_id","question_type","question_text","points_value"],"title":"EventCreate"},"EventResponse":{"properties":{"tournament_id":{"type":"string","format":"uuid","title":"Tournament Id"},"question_type":{"$ref":"#/components/schemas/QuestionType"},"question_text":{"type":"string","title":"Question Text"},"points_value":{"type":"integer","title":"Points Value"},"id":{"type":"string","format":"uuid","title":"Id"},"answers":{"anyOf":[{"items":{"$ref":"#/components/schemas/UserAnswerResponse"},"type":"array"},{"type":"null"}],"title":"Answers"},"solution":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Solution"}},"type":"object","required":["tournament_id","question_type","question_text","points_value","id","answers","solution"],"title":"EventResponse"},"EventSolutionCreate":{"properties":{"solution":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"}],"title":"Solution"}},"type":"object","required":["solution"],"title":"EventSolutionCreate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"QuestionType":{"type":"string","enum":["yes_no","single_choice","multiple_choice"],"title":"QuestionType"},"TeamResponse":{"properties":{"player_1":{"type":"string","title":"Player 1"},"player_2":{"type":"string","title":"Player 2"},"id":{"type":"string","format":"uuid","title":"Id"}},"type":"object","required":["player_1","player_2","id"],"title":"TeamResponse"},"TournamentCreate":{"properties":{"name":{"type":"string","title":"Name"},"date":{"type":"string","format":"date","title":"Date"}},"type":"object","required":["name","date"],"title":"TournamentCreate"},"TournamentResponse":{"properties":{"name":{"type":"string","title":"Name"},"date":{"type":"string","format":"date","title":"Date"},"id":{"type":"string","format":"uuid","title":"Id"},"teams":{"anyOf":[{"items":{"$ref":"#/components/schemas/TeamResponse"},"type":"array"},{"type":"null"}],"title":"Teams"}},"type":"object","required":["name","date","id","teams"],"title":"TournamentResponse"},"UserAnswerCreate":{"properties":{"user_id":{"type":"string","format":"uuid","title":"User Id"},"event_id":{"type":"string","format":"uuid","title":"Event Id"},"answer":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"}],"title":"Answer"}},"type":"object","required":["user_id","event_id","answer"],"title":"UserAnswerCreate"},"UserAnswerResponse":{"properties":{"user_id":{"type":"string","format":"uuid","title":"User Id"},"event_id":{"type":"string","format":"uuid","title":"Event Id"},"answer":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"}],"title":"Answer"},"id":{"type":"string","format":"uuid","title":"Id"},"points":{"type":"integer","title":"Points"}},"type":"object","required":["user_id","event_id","answer","id","points"],"title":"UserAnswerResponse"},"UserIn":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","default":false},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified","default":false},"username":{"type":"string","title":"Username"}},"type":"object","required":["email","password","username"],"title":"UserIn","description":"Schema for creating user."},"UserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"email":{"type":"string","format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"is_verified":{"type":"boolean","title":"Is Verified","default":false},"username":{"type":"string","title":"Username"}},"type":"object","required":["id","email","username"],"title":"UserResponse","description":"Schema for user response."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"auth/jwt/login"}}}}}}
